(function(c){c.InFieldLabels=function(e,d,f){var a=this;a.$label=c(e);a.label=e;a.$field=c(d);a.field=d;a.$label.data("InFieldLabels",a);a.showing=!0;a.init=function(){a.options=c.extend({},c.InFieldLabels.defaultOptions,f);""!=a.$field.val()&&(a.$label.hide(),a.showing=!1);a.$field.focus(function(){a.fadeOnFocus()}).blur(function(){a.checkForEmpty(true)}).bind("keydown.infieldlabel",function(b){a.hideOnChange(b)}).change(function(){a.checkForEmpty()}).bind("onPropertyChange",function(){a.checkForEmpty()})};
a.fadeOnFocus=function(){a.showing&&a.setOpacity(a.options.fadeOpacity)};a.setOpacity=function(b){a.$label.stop().animate({opacity:b},a.options.fadeDuration);a.showing=0<b};a.checkForEmpty=function(b){""==a.$field.val()?(a.prepForShow(),a.setOpacity(b?1:a.options.fadeOpacity)):a.setOpacity(0)};a.prepForShow=function(){a.showing||(a.$label.css({opacity:0}).show(),a.$field.bind("keydown.infieldlabel",function(b){a.hideOnChange(b)}))};a.hideOnChange=function(b){16==b.keyCode||9==b.keyCode||(a.showing&&
(a.$label.hide(),a.showing=!1),a.$field.unbind("keydown.infieldlabel"))};a.init()};c.InFieldLabels.defaultOptions={fadeOpacity:0.5,fadeDuration:300};c.fn.inFieldLabels=function(e){return this.each(function(){var d=c(this).attr("for");d&&(d=c("input#"+d+"[type='text'],input#"+d+"[type='password'],textarea#"+d),0!=d.length&&new c.InFieldLabels(this,d[0],e))})}})(jQuery);